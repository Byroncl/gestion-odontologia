{"version":3,"file":"static/js/749.2438c651.chunk.js","mappings":"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","sources":["components/admin/Informe.tsx"],"sourcesContent":["// src/components/Reports.tsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport '../../assets/css/Informe.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowLeft } from '@fortawesome/free-solid-svg-icons';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\ninterface Appointment {\r\n  date: string;\r\n  time: string;\r\n  patient: string;\r\n  dentist: string;\r\n}\r\n\r\ninterface User {\r\n  username: string;\r\n  role: string;\r\n}\r\n\r\ninterface ClinicalHistory {\r\n  patientName: string;\r\n  treatments: string[];\r\n  diagnoses: string[];\r\n  medications: string[];\r\n}\r\n\r\ninterface Payment {\r\n  date: string;\r\n  amount: number;\r\n  description: string;\r\n  name: string;\r\n  cedula: string;\r\n}\r\n\r\ninterface Treatment {\r\n  date: string;\r\n  diagnosis: string;\r\n  treatment: string;\r\n  name: string;\r\n  cedula: string;\r\n}\r\n\r\nconst Reports: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const [appointments, setAppointments] = useState<Appointment[]>([]);\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [clinicalHistories, setClinicalHistories] = useState<ClinicalHistory[]>([]);\r\n  const [payments, setPayments] = useState<Payment[]>([]);\r\n  const [treatments, setTreatments] = useState<Treatment[]>([]);\r\n\r\n  useEffect(() => {\r\n    const storedAppointments = localStorage.getItem('appointments');\r\n    if (storedAppointments) {\r\n      setAppointments(JSON.parse(storedAppointments));\r\n    }\r\n\r\n    const storedUsers = localStorage.getItem('users');\r\n    if (storedUsers) {\r\n      setUsers(JSON.parse(storedUsers));\r\n    }\r\n\r\n    const storedClinicalHistories = localStorage.getItem('clinicalHistories');\r\n    if (storedClinicalHistories) {\r\n      setClinicalHistories(JSON.parse(storedClinicalHistories));\r\n    }\r\n\r\n    const storedPayments = localStorage.getItem('payments');\r\n    if (storedPayments) {\r\n      setPayments(JSON.parse(storedPayments));\r\n    }\r\n\r\n    const storedTreatment = localStorage.getItem('clinicalData');\r\n    if (storedTreatment) {\r\n      setTreatments(JSON.parse(storedTreatment));\r\n    }\r\n  }, []);\r\n\r\n  const generateReport = () => {\r\n    const doc = new jsPDF();\r\n\r\n    generateAppointmentsReport(doc);\r\n    generateUsersReport(doc);\r\n    generateClinicalHistoriesReport(doc);\r\n    generatePaymentsReport(doc);\r\n    generateActivityReport(doc);\r\n\r\n    doc.save('clinic_reports.pdf');\r\n  };\r\n\r\n  const generateAppointmentsReport = (doc: jsPDF) => {\r\n    doc.text('Informe de Citas', 10, 10);\r\n\r\n    const tableData = appointments.map(appointment => [\r\n      appointment.date,\r\n      appointment.time,\r\n      appointment.patient,\r\n      appointment.dentist,\r\n    ]);\r\n\r\n    // @ts-ignore\r\n    doc.autoTable({\r\n      startY: 20,\r\n      head: [['Fecha', 'Hora', 'Paciente', 'Odontólogo']],\r\n      body: tableData,\r\n    });\r\n\r\n    doc.addPage();\r\n  };\r\n\r\n  const generateUsersReport = (doc: jsPDF) => {\r\n    doc.text('Informe de Usuarios', 10, 10);\r\n\r\n    const tableData = users.map(user => [user.username, user.role]);\r\n\r\n    // @ts-ignore\r\n    doc.autoTable({\r\n      startY: 20,\r\n      head: [['Usuario', 'Rol']],\r\n      body: tableData,\r\n    });\r\n\r\n    doc.addPage();\r\n  };\r\n\r\n  const generateClinicalHistoriesReport = (doc: jsPDF) => {\r\n    doc.text('Informe de Historiales Clínicos', 10, 10);\r\n\r\n    clinicalHistories.forEach((history, index) => {\r\n      doc.text(`Historial Clínico ${index + 1}`, 10, 20);\r\n      doc.text(`Paciente: ${history.patientName}`, 10, 30);\r\n\r\n      // Detalles de tratamientos\r\n      doc.text('Tratamientos:', 10, 40);\r\n      history.treatments.forEach((treatment, idx) => {\r\n        doc.text(`${idx + 1}. ${treatment}`, 15, 50 + idx * 10);\r\n      });\r\n\r\n      // Detalles de diagnósticos\r\n      doc.text('Diagnósticos:', 10, 80);\r\n      history.diagnoses.forEach((diagnosis, idx) => {\r\n        doc.text(`${idx + 1}. ${diagnosis}`, 15, 90 + idx * 10);\r\n      });\r\n\r\n      // Detalles de medicamentos\r\n      doc.text('Medicamentos:', 10, 120);\r\n      history.medications.forEach((medication, idx) => {\r\n        doc.text(`${idx + 1}. ${medication}`, 15, 130 + idx * 10);\r\n      });\r\n\r\n      doc.addPage();\r\n    });\r\n  };\r\n\r\n  const generatePaymentsReport = (doc: jsPDF) => {\r\n    doc.text('Informe de Pagos', 10, 10);\r\n\r\n    const tableData = payments.map(payments => [\r\n      payments.date,\r\n      payments.description,\r\n      payments.amount.toString(),\r\n      payments.name,\r\n      payments.cedula,\r\n    ]);\r\n\r\n    // @ts-ignore\r\n    doc.autoTable({\r\n      startY: 20,\r\n      head: [['Número de Factura', 'Tratamiento', 'Cantidad', 'cliente', 'cedula']],\r\n      body: tableData,\r\n    });\r\n\r\n    doc.addPage();\r\n  };\r\n\r\n  const generateActivityReport = (doc: jsPDF) => {\r\n    doc.text('Informe de Actividad de Odontólogos', 10, 10);\r\n\r\n    const tableData = treatments.map(item => [\r\n      item.date,\r\n      item.diagnosis.toString(),\r\n      item.treatment.toString(),\r\n      item.name,\r\n      item.cedula,\r\n    ]);\r\n\r\n    // @ts-ignore\r\n    doc.autoTable({\r\n      startY: 20,\r\n      head: [['fecha', 'diagnosis', 'Tratamientos', 'nombre', 'cedula']],\r\n      body: tableData,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"reports-container\">\r\n      <button className=\"back-button\" id=\"back-button\" onClick={() => navigate('/administracion')}>\r\n        <FontAwesomeIcon icon={faArrowLeft} />\r\n      </button>\r\n      <h2>Informes y Estadísticas</h2>\r\n      <div className=\"report-form\">\r\n        <button onClick={generateReport}>Generar Informes en PDF</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reports;\r\n"],"names":["Reports","navigate","useNavigate","appointments","setAppointments","useState","users","setUsers","clinicalHistories","setClinicalHistories","payments","setPayments","treatments","setTreatments","useEffect","storedAppointments","localStorage","getItem","JSON","parse","storedUsers","storedClinicalHistories","storedPayments","storedTreatment","generateAppointmentsReport","doc","text","tableData","map","appointment","date","time","patient","dentist","autoTable","startY","head","body","addPage","generateUsersReport","user","username","role","generateClinicalHistoriesReport","forEach","history","index","concat","patientName","treatment","idx","diagnoses","diagnosis","medications","medication","generatePaymentsReport","description","amount","toString","name","cedula","generateActivityReport","item","_jsxs","className","children","_jsx","id","onClick","FontAwesomeIcon","icon","faArrowLeft","generateReport","jsPDF","save"],"sourceRoot":""}